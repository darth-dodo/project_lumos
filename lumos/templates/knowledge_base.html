<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Knowledge Base</title>
  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>
<style type="text/css">
  .body{
    position: relative;
    }
  }

  /*@media (min-height: 100px) {*/
  /*.footer{  Increased specificity for SO snippet priority */
    /*text-align: center;*/
    /*width: 100%;*/
    /*bottom: 0;*/
    /*position: absolute;*/
    /*height: 150px;*/
    /*margin-top:-10px;*/
    /*z-index: 150;*/
    /*height: 100;*/
    /*margin-top: -100px;*/
  /*}*/
/*      .Site {
        display: flex;
        min-height: 100vh;
        flex-direction: column;
      }

      .Site-content {
        flex: 1;
      }
  }*/
/*}*/
</style>
</head>
<body>
<header>
</header>


<div class="ui stackable menu">
  <div class="item">
    <a href="/"><i class="large home icon"></i></a>
  </div>
  <a class="item" href="/technical/">Technical Skills</a>
<!--     <div class="ui simple dropdown item">
      Extra
      <i class="dropdown icon"></i>
      <div class="menu">
        <div class="item csvClass">View all links</div>
        <div class="item">Chill</div>
      </div>
    </div>
 -->
 </div>

<div class="ui main">
  <div class="ui header segment">
    <h1 class="ui header">Knowledge Base</h1>
  </div>

  <div class="ui one column stackable page grid">
  <!-- negative space -->
  <div class="column three wide"></div>
  <div class="column ten wide">
    <div class="ui styled accordion">
      {% for lang in data %}
        <div class="title prog_lang">
          <h2>
            <i class="dropdown icon"></i>
            {{ lang.name }}
          </h2>
        </div>
        <div class="content">
        {% for row in lang.data %}
        <div class="ui segments">

        <a 
          {% if row.link %} 
            data-url="{{ row.link }}" 
            data-media= "{{ row.media_type }}"  
            href="{{ row.link }}"
            target="_blank" 
          {% else %} 
            href="#" 
          {% endif %} 
          style="color: inherit;" 
          >
          <div class="ui raised segment diff_lvl_{{ row.difficulty }} row_data "
                    {% if row.link %} 
            data-url="{{ row.link }}" 
            data-media= "{{ row.media_type }}"  
          {% else %} 
            href="#" 
          {% endif %} >
            <div class="ui header">
              {{ row.title }}
            </div><!-- header -->
            {% if row.data_desc %}
              <p>{{ row.data_desc }}</p>
            {% endif %}
          </div>
        </a>
        </div>
        {% endfor %}<!-- current_lang -->
        </div>
      {% endfor %}
    </div><!--accordian-->
  </div>

  <!-- modal -->

<div class="ui modal" id="myModal">
  <div class="header">
        Video Source!
  </div>
  <div class="content">
      <div class="ui header">
      <p>Don't forget to practise what you learn!</p>
      </div>
        <div class="ui segment center aligned">
          <iframe id= "youtube-player" width="720" height="405" src="" frameborder="0"></iframe> 
        </div>
    </div>
  <div class="actions">
    <div class="ui black deny button">
      Close
    </div>
  </div>
</div><!-- modal -->

  </div><!-- container -->
</div><!-- main -->

<script type="text/javascript">
$(document).ready(function(){
  $('.accordion')
  .accordion({
    selector: {
      trigger: '.icon',
      trigger:'.prog_lang'
    }
  });

  $('.diff_lvl_0').addClass("inverted green")
  $('.diff_lvl_1').addClass("inverted yellow")
  $('.diff_lvl_2').addClass("inverted orange")

  $(".row_data").hover(function () {
    $(this).toggleClass("inverted");
  });

// // modal activator
//   $(".row_data").click(function(){
//     var url = $(this).data("url");
//     console.log(this);
//     console.log(url);    
//     var media = $(this).data("media");
//     console.log(media) ;

//   $('#youtube-player').attr('src',url);

//   $('#myModal').modal({
//       closable  : false,
//       onDeny    : function(){
//         var r = confirm("Are you sure?");
//         if (r == true) {
//           txt = "You pressed OK!";
//           console.log(txt)
//           $('#youtube-player').attr('src','');
//           $('#myModal').modal('close');      
//         } else {
//         return false;
//       }
//       }
//     })
//   $('#myModal').modal('show');
// });//modal
//modal commented as per discussion with ashwin
});//document ready
</script>
</body>
</html>